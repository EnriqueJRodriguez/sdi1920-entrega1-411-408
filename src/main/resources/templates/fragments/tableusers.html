<div class="table-responsive">
	<table class="table table-hover" id="tableUsers">
		<thead>
			<tr>
				<th th:text="#{users.table.email}"></th>
				<th th:text="#{users.table.name}"></th>
				<th th:text="#{users.table.lastName}"></th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="user: ${usersList}">
				<td th:text="${user.email}"></td>
				<td th:text="${user.name}"></td>
				<td th:text="${user.lastName}"></td>
				<td th:switch="${#lists.isEmpty(invitations)}">
					<div th:case="true">
						<button type="button" th:id="${'invitationButton' + user.id}"
							class="btn btn-info" th:text="#{users.table.friends.add}"></button>
						<script th:inline="javascript">
							/*<![CDATA[*/
							$("#invitationButton[[${user.id}]]").click(function() {
								$.get("/user/[[${user.id}]]/invitation/send",
									function(data) {
										var urlUpdate = '/user/list/update';
										$("#tableUsers").load(urlUpdate);
									}
								);
							});
							/*]]>*/
						</script>
					</div>
					<div th:case="false">
						<div th:each="invitation: ${invitations}">
							<div th:if="${user.id != invitation.sender.id and user.id != invitation.receiver.id}">
								<button type="button" th:id="${'invitationButton' + user.id}"
									class="btn btn-info" th:text="#{users.table.friends.add}"></button>
								<script th:inline="javascript">
									/*<![CDATA[*/
									$("#invitationButton[[${user.id}]]").click(function() {
										$.get("/user/[[${user.id}]]/invitation/send",
											function(data) {
												var urlUpdate = '/user/list/update';
												$("#tableUsers").load(urlUpdate);
											}
										);
									});
									/*]]>*/
								</script>
							</div>
						</div>
					</div>
				</td>
			</tr>
		</tbody>
	</table>
</div>